
<!DOCTYPE html>
<html>
<button onclick="test()"> connect <button >
<button id="askdata" type="button" > red </button >
<script>

var port;

function sendBytes(b){
  if (port && port.writable) {
    const writer = port.writable.getWriter();
    writer.write(b);
    writer.releaseLock();
  }
}

if (document.getElementById ('askdata')) {
  document.getElementById ('askdata').addEventListener("click", function() {
    sendBytes(new Uint8Array([98, 10])); // ascii 'b\n'
  });
}


const test = async function () {
  port = await navigator.serial.requestPort({});
  await port.open({ baudRate: 115200 });
}


</script>

</html>